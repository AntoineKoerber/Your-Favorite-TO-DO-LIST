<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Level up your productivity with gamified task management.">
    <title>TaskQuest - Level Up Your Productivity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
    <!-- Particle canvas for celebrations -->
    <canvas id="confetti-canvas"></canvas>

    <div class="app-container">
        <!-- Player Stats Bar -->
        <header class="player-stats">
            <div class="level-badge">
                <span class="level-number" id="player-level">1</span>
                <span class="level-label">LVL</span>
            </div>
            <div class="xp-container">
                <div class="xp-info">
                    <span class="player-title" id="player-title">Novice Tasker</span>
                    <span class="xp-text"><span id="current-xp">0</span> / <span id="next-level-xp">100</span> XP</span>
                </div>
                <div class="xp-bar">
                    <div class="xp-fill" id="xp-fill"></div>
                    <div class="xp-glow"></div>
                </div>
            </div>
            <div class="streak-container" id="streak-container">
                <div class="streak-flame">üî•</div>
                <span class="streak-count" id="streak-count">0</span>
                <span class="streak-label">day streak</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="quest-board">
            <div class="board-header">
                <h1 class="board-title">
                    <span class="title-icon">‚öîÔ∏è</span>
                    Quest Board
                </h1>
                <div class="view-toggles">
                    <button class="view-btn active" data-view="all" title="All Quests">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
                        </svg>
                    </button>
                    <button class="view-btn" data-view="focus" title="Focus Mode">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Quest Input -->
            <form id="quest-form" class="quest-input-area">
                <div class="input-wrapper">
                    <input type="text"
                           id="quest-input"
                           class="quest-input"
                           placeholder="What's your next quest?"
                           autocomplete="off"
                           required>
                    <div class="difficulty-selector">
                        <button type="button" class="diff-btn active" data-xp="10" title="Easy (+10 XP)">
                            <span class="diff-icon">‚≠ê</span>
                        </button>
                        <button type="button" class="diff-btn" data-xp="25" title="Medium (+25 XP)">
                            <span class="diff-icon">‚≠ê‚≠ê</span>
                        </button>
                        <button type="button" class="diff-btn" data-xp="50" title="Hard (+50 XP)">
                            <span class="diff-icon">‚≠ê‚≠ê‚≠ê</span>
                        </button>
                    </div>
                </div>
                <button type="submit" class="add-quest-btn">
                    <span class="btn-text">Accept Quest</span>
                    <span class="btn-icon">+</span>
                </button>
            </form>

            <!-- Filter Tabs -->
            <div class="quest-filters">
                <button class="filter-tab active" data-filter="all">
                    All <span class="filter-count" id="count-all">0</span>
                </button>
                <button class="filter-tab" data-filter="active">
                    Active <span class="filter-count" id="count-active">0</span>
                </button>
                <button class="filter-tab" data-filter="completed">
                    Completed <span class="filter-count" id="count-completed">0</span>
                </button>
            </div>

            <!-- Quest List -->
            <ul id="quest-list" class="quest-list">
                <!-- Quests rendered by JS -->
            </ul>

            <!-- Focus Mode View -->
            <div id="focus-view" class="focus-view d-none">
                <div class="focus-quest" id="focus-quest">
                    <!-- Single quest shown here -->
                </div>
                <div class="focus-controls">
                    <button id="skip-quest" class="focus-btn skip">Skip</button>
                    <button id="complete-focus" class="focus-btn complete">Complete Quest</button>
                </div>
                <p class="focus-hint">Focus on one quest at a time</p>
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state d-none">
                <div class="empty-icon">üó°Ô∏è</div>
                <h3 class="empty-title">No quests awaiting!</h3>
                <p class="empty-text">Add a quest above to begin your adventure</p>
            </div>
        </main>

        <!-- Stats Footer -->
        <footer class="stats-footer">
            <div class="stat-item">
                <span class="stat-value" id="total-completed">0</span>
                <span class="stat-label">Quests Completed</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="total-xp-earned">0</span>
                <span class="stat-label">Total XP Earned</span>
            </div>
            <button id="clear-completed" class="clear-btn d-none">Clear Completed</button>
        </footer>
    </div>

    <!-- Level Up Modal -->
    <div id="level-up-modal" class="modal d-none">
        <div class="modal-content level-up">
            <div class="level-up-icon">üèÜ</div>
            <h2 class="level-up-title">LEVEL UP!</h2>
            <p class="level-up-level">Level <span id="new-level">2</span></p>
            <p class="level-up-rank" id="new-rank">Apprentice Tasker</p>
            <button class="modal-close-btn" id="close-level-up">Continue Adventure</button>
        </div>
    </div>

    <!-- Achievement Toast -->
    <div id="achievement-toast" class="achievement-toast d-none">
        <span class="achievement-icon">üèÖ</span>
        <div class="achievement-info">
            <span class="achievement-label">Achievement Unlocked!</span>
            <span class="achievement-name" id="achievement-name"></span>
        </div>
    </div>

    <!-- XP Popup -->
    <div id="xp-popup" class="xp-popup d-none">+<span id="xp-amount">10</span> XP</div>

    <script src="static/js/main.js"></script>
</body>
</html>
